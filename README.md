# 소설 번역기 (Gemini Batch API)

Gemini 배치 API를 활용하여 소설과 같은 대용량 텍스트 파일을 번역하는 GUI 애플리케이션입니다.

## 주요 기능

*   **배치 번역:** 대용량 텍스트 파일을 지정된 크기(chunk)로 자동 분할하여 Gemini Batch API를 통해 효율적으로 번역합니다.
*   **작업 관리:** 번역 작업 목록을 실시간으로 확인하고, 상태(실행 중, 성공, 실패 등)를 모니터링할 수 있습니다.
*   **결과 다운로드:** 번역이 완료된 작업의 결과를 원본 순서에 맞게 조합하여 하나의 텍스트 파일로 다운로드합니다.
*   **상세 설정 UI:** '설정' 창을 통해 API 키, 모델, 프롬프트, Temperature 등 다양한 파라미터를 직접 수정하고 저장할 수 있습니다.
*   **민감 콘텐츠 처리:** API 요청 시 안전 필터링을 비활성화하여, 성인향 소설 등 민감한 콘텐츠의 번역 차단 가능성을 최소화합니다.
*   **편의 기능:** 작업 목록 수동 새로고침, 각 기능에 대한 상세한 툴팁(설명)을 제공합니다.
*   **안정성:** 모든 주요 작업과 오류는 `app.log` 파일에 기록되어 문제 추적이 용이합니다.

## 설치 방���

1.  **저장소 복제:**
    ```bash
    git clone https://github.com/your-username/your-repo-name.git
    cd your-repo-name
    ```

2.  **가상 환경 생성 및 활성화:**
    ```bash
    python -m venv .venv
    # Windows
    .venv\Scripts\activate
    # macOS/Linux
    source .venv/bin/activate
    ```

3.  **필요한 라이브러리 설치:**
    ```bash
    pip install -r requirements.txt
    ```

## 사용법

1.  **API 키 설정:**
    *   `config.json.template` 파일의 이름을 `config.json`으로 변경합니다.
    *   애플리케이션을 실행하고 **'설정'** 버튼을 클릭합니다.
    *   'API 키' 필드에 자신의 Google AI Studio API 키를 붙여넣고 'OK'를 눌러 저장합니다.

2.  **애플리케이션 실행:**
    ```bash
    python main.py
    ```

3.  **번역 작업 추가:**
    *   '찾아보기' 버튼을 클릭하여 번역할 `.txt` 파일을 선택합니다.
    *   '새 번역 작업 추가' 버튼을 클릭합니다. 작업이 즉시 목록에 추가됩니다.

4.  **작업 관리:**
    *   '새로고침' 버튼이나 30초마다 실행되는 자동 새로고침을 통해 작업 상태를 업데이트할 수 있습니다.
    *   작업을 마우스 오른쪽 버튼으로 클릭하면 '결과 다운로드' 또는 '작업 삭제' 메뉴가 나타납니다.

## ���정 (`config.json`)

'설정' 창을 통해 아래의 모든 값을 변경할 수 있습니다.

*   `source_language`: 원본 언어 코드 (e.g., "en")
*   `target_language`: 대상 언어 코드 (e.g., "ko")
*   `gemini_api_key`: Google AI Studio API 키.
*   `gemini_api_key`: Google AI Studio API 키.
*   `model_name`: 사용할 Gemini 모델 이름 (e.g., "gemini-1.5-pro")
*   `system_instruction`: 번역 요청 시 모델에 전달할 시스템 프롬프트 (역할, 원칙 등 정의)
*   `chunk_size`: 파일을 분할할 때의 최대 글자 수.
*   `temperature`: 모델 응답의 창의성 조절 (높을수록 ��양, 낮을수록 결정적). (0.0 ~ 2.0)
*   `top_p`: 모델이 고려할 단어 후보의 범위 조절 (핵심 어휘만 사용하려면 낮게 설정). (0.0 ~ 1.0)
*   `thinking_budget`: 모델의 내부 생각 시간 예산.
*   `prefill_cached_history`: 모델에 특정 역할이나 컨텍스트를 미리 주입하기 위한 대화 기록 (JSON 형식).

---
*This README is generated by the Gemini CLI agent.*
